{% extends 'emp/base.html' %}

{% load crispy_forms_tags %}

{% block content-header %}Add Company{% endblock %}
{% block content %}
{% for message in messages %}
         <div class="text-center alert {{ message.tags }}">
             {{ message|safe }}
         </div>
{% endfor %}
<form method="POST" enctype="multipart/form-data" >
  
    <!-- Security token -->
    {% csrf_token %}
    <div class="row">
    	<div class="col-6 form-group mb-3">
    		{{ form.name | as_crispy_field }}
    	</div>
        <div class="col-6 form-group mb-3"></div>
    	<div class="col-md-6 form-group mb-3">
    		{{ form.emp_name | as_crispy_field }}
    	</div>
    	<div class="col-md-6 form-group mb-3">
    		{{ form.emp_contact | as_crispy_field }}
    	</div>
    	<div class="col-md-6 form-group mb-3">
    		{{ form.phone | as_crispy_field }}
    	</div>
    	<div class="col-md-6 form-group mb-3">
    		{{ form.email | as_crispy_field }}
    	</div>
        <div class="col-md-6 form-group d-none">
            {{ form.state_c | as_crispy_field }}
        </div>
        <div class="col-md-6 form-group d-none">
            {{ form.city_c | as_crispy_field }}
        </div>

    	<div class="col-md-6 form-group mb-3">
            <div class="form-group">
                <label for="state">State</label>
                <select class="form-control" id="select-state">
                  {% for s in state %} 
                    <option value="{{s.id}}">{{ s.name }}</option>
                    {% endfor %}
                </select>
            </div>
    	</div>
    	<div class="col-md-6 form-group mb-3">
    		<div class="form-group">
                <label for="city">City</label>
                <select class="form-control" id="select-city" disabled>
                  {% for c in city %} 
                    <option value="{{c.id}}">{{ c }}</option>
                    {% endfor %}
                </select>
            </div>
    	</div>
    	<div class="col-12 form-group mb-3">
    		{{ form.address | as_crispy_field }}
    	</div>
    	<div class="col-lg-3 col-md-6 form-group mb-3">
    		{{ form.domain | as_crispy_field }}
    	</div>
    	<div class="col-lg-3 col-md-6 form-group mb-3">
    		{{ form.company_size | as_crispy_field }}
    	</div>
    	<div class="col-lg-3 col-md-6 form-group mb-3">
    		{{ form.website | as_crispy_field }}
    	</div>
    	<div class="col-lg-3 col-md-6 form-group mb-3">
    		{{ form.logo | as_crispy_field }}
    	</div>
    	<div class="col-12 form-group mb-3">
    		{{ form.description | as_crispy_field }}
    	</div>
    	<div class="col-lg-3 col-md-6 form-group mb-3">
    		{{ form.rating | as_crispy_field }}
    	</div>
    	<div class="col-lg-3 col-md-6 form-group pb-3 mb-3">
    		<br>
    		{{ form.status | as_crispy_field }}
    	</div>
    </div>
      
    <input type="submit" value="Submit" id="company_form" class="btn btn-success mt-3">
</form>

{% endblock %}
{% block jquery %}
<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
{% endblock %}

{% block js %}
<script type = "text/javascript">
    $("#company_form").click(function(){
        state = $('#select-state').val();
        city = $('#select-city').val();

        $('#id_state_c').val(parseInt(state));
        $('#id_city_c').val(parseInt(city));
        });
    $(document).ready(function(){});
</script>
{% endblock %}

